{"version":3,"sources":["webpack:///E:/小程序/项目/uni-eater/pages/takeout/components/ordering.vue?2ba6","webpack:///E:/小程序/项目/uni-eater/pages/takeout/components/ordering.vue?c0c1","webpack:///E:/小程序/项目/uni-eater/pages/takeout/components/ordering.vue?7f6c","webpack:///E:/小程序/项目/uni-eater/pages/takeout/components/ordering.vue?3602","uni-app:///pages/takeout/components/ordering.vue","webpack:///E:/小程序/项目/uni-eater/pages/takeout/components/ordering.vue?2f3d","webpack:///E:/小程序/项目/uni-eater/pages/takeout/components/ordering.vue?6e22"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACqC;;;AAG5F;AAC+M;AAC/M,gBAAgB,uNAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAozB,CAAgB,o0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACoFx0B;AACA;AACA,gBADA,EADA;;AAIA;AACA,uBADA;AAEA,oBAFA,EAJA;;AAQA,MARA,kBAQA;AACA;AACA;AACA,oBAFA;AAGA,gBAHA;AAIA;AACA,mBALA;AAMA;AACA,oBAPA;AAQA;AACA,oBATA;AAUA;AACA,gBAXA;;AAaA;AACA;AACA,sBAfA;AAgBA;AACA,wBAjBA;AAkBA;AACA,oBAnBA;AAoBA;AACA,kBArBA;AAsBA;AACA,cAvBA;AAwBA;AACA,uBAzBA;AA0BA;AACA,sBA3BA;AA4BA,kBA5BA;AA6BA,qBA7BA;AA8BA,oBA9BA;AA+BA;AACA,iBAhCA;;;;AAoCA,GA7CA;AA8CA;AACA;AACA,cAFA,sBAEA,KAFA,EAEA,SAFA,EAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAbA;;;AAgBA;AACA,QAjBA,gBAiBA,OAjBA,EAiBA,MAjBA,EAiBA,SAjBA,EAiBA,KAjBA,EAiBA,KAjBA,EAiBA,KAjBA,EAiBA;AACA;AACA;AACA;AACA;AACA;AACA,KAvBA;;AAyBA;AACA,UA1BA,kBA0BA,OA1BA,EA0BA,MA1BA,EA0BA,SA1BA,EA0BA,KA1BA,EA0BA,KA1BA,EA0BA,KA1BA,EA0BA;AACA;AACA;AACA;AACA;AACA;AACA,KAhCA;;AAkCA;AACA,YAnCA,oBAmCA,MAnCA,EAmCA,SAnCA,EAmCA,KAnCA,EAmCA,KAnCA,EAmCA,KAnCA,EAmCA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA,OARA;;AAUA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,sBADA;AAEA,8BAFA;AAGA,oBAHA;AAIA,oBAJA;AAKA,6BALA;AAMA,oBANA;;AAQA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KAjFA;;;AAoFA;AACA,cArFA,wBAqFA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAFA;AAGA,OAPA,MAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0BADA;AAEA,iCAFA;AAGA,gCAHA;AAIA,qCAJA;AAKA,iCALA;AAMA,yBANA;AAOA,iCAPA;;AASA;AACA;AACA;AACA,yDADA;;AAGA;;AAEA,KAhIA,EA9CA;;;;;AAmLA;AACA,eADA,yBACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAHA,EAGA,EAHA;AAIA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,KA1BA;;AA4BA;AACA,aA7BA,uBA6BA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA;AACA,KAlDA,EAnLA;;;;AAyOA;AACA;AACA;AACA,gBAHA,wBAGA,QAHA,EAGA,QAHA,EAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,KArCA;;;;AAyCA;AACA;AACA,YA3CA,oBA2CA,QA3CA,EA2CA,QA3CA,EA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvDA,EAzOA,E;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAkrC,CAAgB,qqCAAG,EAAC,C;;;;;;;;;;;ACAtsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/takeout/components/ordering.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"\nvar renderjs\nimport script from \"./ordering.vue?vue&type=script&lang=js&\"\nexport * from \"./ordering.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0bf8a0c8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/takeout/components/ordering.vue\"\nexport default component.exports","export * from \"-!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=template&id=0bf8a0c8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.flat && _vm.settLement()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=script&lang=js&\"","<template>\r\n  <!-- 商品列表 -->\r\n  <view class=\"ordering\">\r\n    <!-- 左边列表 -->\r\n    <view class=\"ordering-left\">\r\n      <block v-for=\"(item, index) in orderclass\" :key=\"index\">\r\n        <text :class=\"{activeLeft: index==leftNum}\" @click=\"handleLeft(index, item)\">{{item}}</text>\r\n      </block>\r\n    </view>\r\n    <!-- 右边商品列表 -->\r\n    <view class=\"ordering-right\">\r\n     <text class=\"ordering-right-title\">{{ordertitle}}</text>\r\n     <view>\r\n     \t<block v-for=\"(item,index) in classifarr\" :key=\"index\">\r\n     \t\t<view class=\"content-view\">\r\n     \t\t\t<!-- 左边商品图片 -->\r\n     \t\t\t<view class=\"content-img\">\r\n     \t\t\t\t<image :src=\"item.objdis.image\" mode=\"aspectFill\"></image>\r\n     \t\t\t</view> \r\n     \t\t\t<!-- 右边商品信息-->\r\n     \t\t\t<view class=\"content-title\">\r\n            <!-- 商品名字 -->\r\n     \t\t\t\t<text class=\"conteng-take\">{{item.objdis.input}}</text>\r\n     \t\t\t\t<view class=\"conteng-monthly\">\r\n              <!-- 商品的标签 -->\r\n     \t\t\t\t\t<block v-for=\"(itemdata,index) in item.objdis.tags\" :key=\"index\">\r\n     \t\t\t\t\t<text>{{itemdata}}</text>\r\n     \t\t\t\t\t</block>\r\n     \t\t\t\t</view>\r\n     \t\t\t\t<view class=\"conteng-starting\">\r\n     \t\t\t\t\t<text>月售10</text>\r\n     \t\t\t\t</view>\r\n     \t\t\t\t<view class=\"conteng-price\">\r\n     \t\t\t\t\t<view class=\"conteng-shi\">¥{{item.objdis.Discount}}</view>\r\n     \t\t\t\t\t<view class=\"conteng-hua\">¥{{item.objdis.Price}}</view>\r\n     \t\t\t\t\t<view class=\"ordering-price\">\r\n                <!-- 减号图片 -->\r\n     \t\t\t\t\t\t<image @click=\"reDuce(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\" src=\"../../../static/coen/jianhao.png\" mode=\"widthFix\"></image>\r\n     \t\t\t\t\t\t<!-- 份数 -->\r\n                <text class=\"amounting\">{{item.amount}}</text>\r\n                <!-- 加号图片 -->\r\n     \t\t\t\t\t\t<image @click=\"pLus(item.amount,item._id,index,item.objdis.Discount,item.objdis.image,item.objdis.input)\" src=\"../../../static/coen/jiahao.png\" mode=\"widthFix\"></image>\r\n     \t\t\t\t\t</view>\r\n     \t\t\t\t</view>\r\n     \t\t\t</view>\r\n     \t\t</view>\r\n     \t</block>\r\n     </view>\r\n      \r\n    </view>\r\n    \r\n    <view class=\"Shopping\">\r\n    \t<!-- 骑手 -->\r\n    \t<view class=\"qishou\">\r\n    \t\t<image v-if=\"!isActive\" src=\"../../../static/coen/weigou.png\" mode=\"widthFix\"></image>\r\n    \t\t<image v-if=\"isActive\" src=\"../../../static/coen/yigou.png\" mode=\"widthFix\"></image>\r\n    \t</view>\r\n    \t<!-- 多少量 -->\r\n    \t<view class=\"Numbering\" v-if=\"isActive\">{{Takeleng.length}}</view>\r\n    \t<!-- 金额 -->\r\n    \t<view class=\"Shopping-dis\">\r\n    \t\t<view class=\"Shopping-left\">\r\n    \t\t\t<view class=\"Cost-mony\">\r\n    \t\t\t\t<text class=\"Total-price\">¥{{Takeawayprice}}</text>\r\n    \t\t\t\t<text class=\"Delivery\">另需配送费{{physical}}元</text>\r\n    \t\t\t</view> \r\n    \t\t</view>\r\n    \t\t<view class=\"Shopping-right\" :class=\"{shoppactive: isActive}\" \r\n              @click=\"flat && settLement()\">\r\n    \t\t\t<text v-if=\"!isActive\">{{delivering}}元起送</text>\r\n    \t\t\t<text v-if=\"isActive\">{{difference}}</text>\r\n    \t\t</view>\r\n    \t</view>\r\n    </view>\r\n    <!-- 登录模块弹窗组件 -->\r\n   \t<motal ref=\"mon\"></motal>\r\n    \r\n    \r\n  </view>\n</template>\n\n<script>\r\n  // 引入登录模块弹窗组件\r\n  import motal from '../../../element/modal.vue'\r\n  export default{\r\n    components:{\r\n      motal\r\n    },\r\n    props:{\r\n      orderingdata:Array,\r\n      busidata:Object\r\n    },\r\n    data(){\r\n      return{\r\n        // 左边的列表\r\n         orderclass:[],\r\n         leftNum:0,\r\n         // 所有的商品数据\r\n         commodity:[],\r\n         // 右边商品展示的title\r\n         ordertitle:'',\r\n         // 右边默认展示的商品\r\n         classifarr:[],\r\n         // 商品数量\r\n         amount:'',\r\n         \r\n         // 骑手部分\r\n        // 配送费\r\n        physical:Number,\r\n        // 起送费\r\n        delivering:Number,\r\n         // 商家标识\r\n         MerchantId:'',\r\n         // 商家名称\r\n         nameshop:'',\r\n         // 商家logo\r\n         logo:'',\r\n        // 骑手 总价\r\n        arrtotalPrice:[],\r\n        // 所有商品总价之和\r\n        Takeawayprice:0,\r\n        Takeleng:[],\r\n        isActive:false,\r\n        difference:'',\r\n        // 禁止点击\r\n        flat:false,\r\n       \r\n      }\r\n      \r\n    },\r\n    methods:{\r\n      // 左边商品分类列表的切换\r\n      handleLeft(index, itemclass){\r\n        this.leftNum = index\r\n        this.ordertitle = itemclass\r\n        console.log(itemclass)\r\n        \r\n        // 做一个筛选 如果itemclass的值等于 commodity里的每个项目的optidata\r\n        // 就将itemarr给到classifarr 渲染到右边列表\r\n        let itemarr = this.commodity.filter(item=>{\r\n          return item.optidata == itemclass\r\n        })\r\n        this.classifarr = itemarr\r\n      },\r\n      \r\n     \r\n      // 右边商品列表 加减号\r\n    pLus(amounts,indexs,indexdata,price,image,input){\r\n    \t// log(amounts)\r\n    \t// 商品数量\r\n    \tthis.amount =  Number(amounts) + Number(1)\r\n    \t// log(this.amount)\r\n    \tthis.pullData(indexs,indexdata,price,image,input)\r\n    },\r\n    \r\n    // 减价\r\n    reDuce(amounts,indexs,indexdata,price,image,input){\r\n    \t// log(amounts)\r\n    \t// 商品数量\r\n    \tthis.amount =  Number(amounts) - Number(1)\r\n    \t// log(this.amount)\r\n    \tthis.pullData(indexs,indexdata,price,image,input)\r\n    },\r\n    \r\n     // 加减价共用函数\r\n      pullData(indexs,indexdata,price,image,input){\r\n        let findarr = this.classifarr.filter((item,index)=>{\r\n          if(item._id == indexs){\r\n            if(this.amount < 1){\r\n              return item.amount = '0'\r\n            }else{\r\n              return item.amount = this.amount\r\n            }\r\n          }\r\n        })\r\n       \r\n       // console.log(findarr)\r\n       // 得到更改的数组 \r\n       this.classifarr[indexdata] = findarr[0]\r\n       \t\r\n       // 计算总价\r\n       if(Number(this.amount) <= 0){\r\n         this.amount = 0 \r\n       }\r\n       let Totalnum = price * Number(this.amount)\r\n      \r\n       // 解决浮点数问题\r\n       // 单条商品的总价\r\n       let Totalprice = parseFloat(Totalnum.toFixed(2))\r\n       console.log(Totalprice)\r\n     \r\n       \r\n       // 商品的总价\r\n       /* 把单个商品得到的总价作为一个对象push到数组里，\r\n       方便后面多个商品总价计算时得到最终的价格*/\r\n      let fands = {\r\n      \tindexs,\r\n      \tTotalprice,\r\n      \timage,\r\n      \tinput,\r\n      \t\"amount\":this.amount,\r\n      \tprice\r\n      }\r\n      this.arrtotalPrice.push(fands)\r\n      // log(this.arrtotalPrice)\r\n      // 查询当前点击的商品_id，替换总价\r\n      let findarrdata = this.arrtotalPrice.map((item)=>{\r\n      \treturn item.indexs == indexs ? fands : item\r\n      })\r\n      console.log(findarrdata)\r\n      this.arrtotalPrice = findarrdata\r\n     },\r\n     \r\n     \r\n     // 去结算\r\n     settLement(){\r\n     \tconsole.log('去结算')\r\n      \r\n     \t// 去结算前的条件就是必须已经登录：到本地存储去查看是否已经有用户信息\r\n      \r\n      // 从本地获取usermen的信息 登录了之后就有usermen的值 就为true\r\n     \tlet setdata = uni.getStorageSync('usermen')\r\n     \tif(!setdata){\r\n     \t\tconsole.log('用户没有登录')\r\n     \t\t\r\n        // 弹出模态登录框\r\n     \t\tthis.$nextTick(()=>{\r\n     \t\t\tthis.$refs.mon.init()\r\n     \t\t})\r\n     \t}else{\r\n     \t\tconsole.log('已经登录')\r\n     \t\t// 做支付\r\n     \t\t// 需要支付的总金额\r\n     \t\t// 配送费\r\n     \t\t// 用户openid\r\n     \t\t// 商家标识：身份证\r\n     \t\t// 商家名称\r\n     \t\t// 商家logo\r\n     \t\t// 点的商品个数\r\n        \r\n        // 支付金额等于商品总价加上\r\n     \t\tlet payment = parseFloat((this.Takeawayprice + this.physical).toFixed(10))\r\n     \t\tlet Ordering = {\r\n     \t\t\tpayment,\r\n     \t\t\tphysical:this.physical,\r\n     \t\t\topenid:setdata.openid,\r\n     \t\t\tMerchantId:this.MerchantId,\r\n     \t\t\tnameshop:this.nameshop,\r\n     \t\t\tlogo:this.logo,\r\n     \t\t\tallorder:this.Takeleng\r\n     \t\t}\r\n     \t\t// // 路径带数据不能带对象，数组，只能是字符串\r\n     \t\tlet strorder = JSON.stringify(Ordering)\r\n     \t\twx.navigateTo({\r\n     \t\t\turl:'../placeorder/placeorder?ide=' + strorder\r\n     \t\t})\r\n     \t}\r\n     \t\r\n     },\r\n     \r\n     \r\n    \r\n    },\r\n    computed:{\r\n      calculation(){\r\n      \t// 监听总价\r\n      \t// 1数组对象去重 :累加器：reduce()\r\n      \tlet arr = {}\r\n        \r\n        // preVal默认类型为数组，初始值为空的数组 \r\n        // 初始值 以及 当前被处理的对象的值\r\n      \tlet arrdata = this.arrtotalPrice.reduce((preVal,curVal)=>{\r\n      \t\tarr[curVal.indexs] ? '' : arr[curVal.indexs] = true && preVal.push(curVal)\r\n      \t\treturn preVal\r\n      \t},[])\r\n      \tconsole.log(arrdata)\r\n      \t// 剔除总价为0的商品\r\n      \tthis.Takeleng = arrdata.filter((item)=>{\r\n      \t\treturn item.Totalprice != 0\r\n      \t})\r\n      \t// log(taoarr)\r\n      \t// 所有商品的总价累积之和\r\n      \tlet numdata = 0\r\n      \tarrdata.forEach((item)=>{\r\n      \t\tnumdata += item.Totalprice\r\n      \t})\r\n      \t// log(numdata)\r\n      \t// 得到的总价\r\n      \tthis.Takeawayprice = parseFloat((numdata).toFixed(10))\r\n      },\r\n      \r\n      // 是否满足下单的条件\r\n      condition(){\r\n      \t// 是否选择任何一个商品\r\n      \tif(this.Takeawayprice === 0){\r\n          console.log('没有选择任何一件商品')\r\n      \t\tthis.isActive = false\r\n      \t\tthis.flat = false\r\n      \t}else{\r\n      \t\tthis.isActive = true\r\n      \t\tthis.flat = true\r\n      \t\tconsole.log('选择了一件或多件商品')\r\n      \t\tif(this.Takeawayprice < this.delivering){\r\n      \t\t\t// 不达到起送金额  还差多少满足 = 起送金额 - 总价 \r\n      \t\t\tlet preceMen = parseFloat((this.delivering - this.Takeawayprice).toFixed(10))\r\n      \t\t\tconsole.log(preceMen)\r\n      \t\t\tthis.difference = '还差' + preceMen  + '元'\r\n      \t\t\tthis.flat = false\r\n      \t\t}else{\r\n      \t\t\tthis.difference = '去结算'\r\n      \t\t\tthis.flat = true\r\n      \t\t}\r\n      \t}\r\n      }\r\n      \r\n      \r\n    },\r\n    watch:{\r\n      // 用户进入该页面，默认展示在第一个tab上\r\n      // 并且展示该分类下面的商品\r\n      orderingdata(newValue,oldValue){\r\n        // newValue 放着所有的上商品\r\n        console.log(newValue)\r\n        \r\n        // 取出左边的商品分类\r\n        /* 使用map 循环遍历newvalue let一个数组 用来存放想要得到的遍历结果*/\r\n        let orderclass = newValue.map(item=>{\r\n          return item.optidata\r\n        })\r\n        // 去掉重复 new set\r\n        let orderclassArr = Array.from(new Set(orderclass))\r\n        console.log(orderclassArr)\r\n        this.orderclass = orderclassArr\r\n        \r\n       // 右边部分\r\n       /* 先存放所有的商品数据*/\r\n       this.commodity = newValue\r\n       // 3右边默认分类为第一个分类\r\n       this.ordertitle = newValue[0].optidata\r\n\r\n      console.log(newValue)\r\n      console.log(newValue[0])\r\n       // 往商品里添加一个字段为0\r\n       let commoditydata = newValue.map(item=>{\r\n         let key='amount'\r\n         let value = 0\r\n         return item[key] =value\r\n       })\r\n       // 右边默认展示的商品页面是第一个分类下的商品\r\n       let classifarr = this.commodity.filter(item=>{\r\n         return item.optidata == newValue[0].optidata\r\n       })\r\n       console.log(classifarr)\r\n        this.classifarr =classifarr\r\n      },\r\n      \r\n      \r\n      \r\n      //    骑手部分\r\n     // 商家介绍\r\n     busidata(newvalue,oldvalue){\r\n     \tconsole.log(newvalue)\r\n     \t// 配送费\r\n     \tthis.physical = newvalue.physical\r\n     \t// 起送价\r\n     \tthis.delivering = newvalue.delivering\r\n     \t// 商家标识\r\n     \tthis.MerchantId = newvalue.openid\r\n     \t// 商家名称\r\n     \tthis.nameshop = newvalue.shop\r\n     \t// 商家logo\r\n     \tthis.logo = newvalue.logo\r\n     }\r\n      \r\n      \r\n    }\r\n  }\n</script>\n\n<style scoped>\r\n  .ordering{\r\n    display:flex;\r\n    justify-content: space-between;\r\n    }\r\n  /* 左边商品分类 */\r\n  .ordering-left{width: 190upx; background: #fafafa;\r\n  overflow-y: auto;\r\n  height: 100%;\r\n  }\r\n  .ordering-left text{\r\n  color: #a8a8a8;\r\n  display: block;\r\n  font-size: 28upx;\r\n  height: 80upx;\r\n  line-height: 80upx;\r\n  text-align: center;}\r\n  .activeLeft{\r\n    background: #FFFFFF !important; \r\n    font-weight: bold !important;}\r\n    \r\n    /* 右边 */\r\n    .ordering-right{width: 100%;\r\n    padding: 9upx 9upx 130upx 9upx;\r\n    overflow: hidden;\r\n    overflow-y: auto;\r\n    }\r\n    .activeord{background: #FFFFFF !important; font-weight: bold !important;}\r\n    \r\n    .ordering-right-title{font-size: 28upx;\r\n    height: 60upx;\r\n    line-height: 60upx;}\r\n    \r\n    .content-view{\r\n    display: flex; justify-content: space-between;\r\n    height: 200upx !important; overflow: hidden;\r\n    margin: 30upx 0;\r\n    color: #898989;\r\n    }\r\n    .content-img{width: 180rpx !important; height: 200rpx !important;\r\n    overflow: hidden;\r\n    }\r\n    .content-img image{width: 100%; height: 100%; border-radius: 10upx;\r\n    overflow: hidden;}\r\n    .content-title{\r\n    /* width: 100%; */\r\n    padding-left: 10upx;\r\n    font-size: 24upx;\r\n    }\r\n    \r\n    .conteng-take{\r\n    color: #333333;\r\n    height: 50upx; font-size: 33upx;\r\n    font-weight: bold;\r\n    line-height: 50upx;\r\n    display: -webkit-box;\r\n    -webkit-box-orient: vertical;\r\n    -webkit-line-clamp: 1;\r\n    overflow: hidden;}\r\n    .conteng-monthly{display: flex;\r\n    }\r\n    .conteng-monthly text{background: #f1f1f1;\r\n    margin-right: 9upx;\r\n    padding: 4upx 13upx;\r\n    border-radius: 7upx;\r\n    display: block;\r\n    }\r\n    .conteng-starting{display: flex;\r\n    align-items: center;\r\n    height: 50upx;\r\n    line-height: 50upx;}\r\n    .conteng-price image{width: 60upx; height: 60upx;}\r\n    .conteng-price{display: flex; align-items: center;}\r\n    .ordering-price{display: flex;\r\n    align-items: center;\r\n    justify-content: space-around;\r\n    width: 100%;\r\n    }\r\n    /* 数量 */\r\n    .amounting{\r\n    width: 50upx;\r\n    text-align: center;}\r\n    .conteng-hua{text-decoration: line-through;\r\n    }\r\n    .conteng-shi{color: #fb4e44; font-size: 33upx;\r\n    width: 180upx;\r\n    overflow: hidden;\r\n    }\r\n    /* 购物车 */\r\n    .Shopping{position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    }\r\n    .Shopping-left{\r\n    height: 130upx;\r\n    background: #000000; flex-grow: 2;\r\n    border-top-left-radius: 50upx;\r\n    border-bottom-left-radius: 50upx;\r\n    }\r\n    .Shopping-right{\r\n    height: 130upx;\r\n    line-height: 130upx;\r\n    font-size: 30upx;\r\n    color: #7f7f7f;\r\n    text-align: center;\r\n    background: #000000; flex-grow: 1;\r\n    border-top-right-radius: 50upx;\r\n    border-bottom-right-radius: 50upx;}\r\n    .Shopping-dis{display: flex;\r\n    height: 130upx;\r\n    margin: 0 20upx;\r\n    }\r\n    .qishou{width: 120upx; height: 150upx;\r\n    position: fixed;\r\n    bottom: 0upx;\r\n    left: 50upx;\r\n    }\r\n    .qishou image{width: 120upx; height: 150upx !important;}\r\n    /* 定位 */\r\n    .Delivery{color: #999999;\r\n    font-size: 28upx;\r\n    height: 65upx;}\r\n    .Shopping-left text{display: block;}\r\n    .Total-price{font-size: 40upx; color: #FFFFFF;\r\n    height: 65upx;\r\n    line-height: 65upx;\r\n    }\r\n    .Cost-mony{padding-left: 170upx; color: #4CD964;\r\n    height: 130upx;\r\n    }\r\n    /* 数量 */\r\n    .Numbering{\r\n    background: red;\r\n    width: 40upx;\r\n    height: 40upx;\r\n    border-radius: 50%;\r\n    font-size: 20upx;\r\n    color: #FFFFFF;\r\n    text-align: center;\r\n    line-height: 40upx;\r\n    position: fixed;\r\n    bottom: 50upx;\r\n    left: 130upx;}\r\n    /* 选中菜品 */\r\n    .shoppactive{background: #ffd300 !important;\r\n    color: #000000 !important;}\n</style>\n","import mod from \"-!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"; export default mod; export * from \"-!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\HBuilder\\\\HBuilderX.2.7.14.20200618.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./ordering.vue?vue&type=style&index=0&id=0bf8a0c8&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1624632199611\n      var cssReload = require(\"F:/HBuilder/HBuilderX.2.7.14.20200618.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}